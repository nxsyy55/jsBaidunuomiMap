<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8"/>
        <title> so let it be </title>
    </head>

    <style type="text/css">
        html,body{
        margin:0;
        width:100%;
        height:100%;
        background:#ffffff;
    }
    #map{
        width:100%;
        height:100%;
    }
    </style>

    <script src="http://api.map.baidu.com/api?v=2.0&ak=Zi5NaQzHS9bakF87GklaIGd8">
    </script>
    <body>
        <div id="map"></div>
    </body>
</html>

<script type="text/javascript">
// put codes here
var map = new BMap.Map('map', {});
var cen = new BMap.Point(121.570161,31.219631);
map.centerAndZoom(cen, 15);
map.enableScrollWheelZoom(true);
map.addControl(new BMap.NavigationControl());

var long = [
121.0498036,
121.0498036,
121.0498036,
121.0498036,
121.0498036,
121.0498036,
121.0498036,
121.0498036,
121.0498036,
121.0498036,
121.0498036,
121.0498036,
121.0498036,
121.0498036,
121.0498036,
121.0498036,
121.0498036,
121.0498036,
121.0498036,
121.0498036,
121.0965948,
121.0965948,
121.0965948,
121.0965948,
121.0965948,
121.0965948,
121.0965948,
121.0965948,
121.0965948,
121.0965948,
121.0965948,
121.0965948,
121.0965948,
121.0965948,
121.0965948,
121.0965948,
121.0965948,
121.0965948,
121.0965948,
121.0965948,
121.143386,
121.143386,
121.143386,
121.143386,
121.143386,
121.143386,
121.143386,
121.143386,
121.143386,
121.143386,
121.143386,
121.143386,
121.143386,
121.143386,
121.143386,
121.143386,
121.143386,
121.143386,
121.143386,
121.143386,
121.1901772,
121.1901772,
121.1901772,
121.1901772,
121.1901772,
121.1901772,
121.1901772,
121.1901772,
121.1901772,
121.1901772,
121.1901772,
121.1901772,
121.1901772,
121.1901772,
121.1901772,
121.1901772,
121.1901772,
121.1901772,
121.1901772,
121.1901772,
121.2369684,
121.2369684,
121.2369684,
121.2369684,
121.2369684,
121.2369684,
121.2369684,
121.2369684,
121.2369684,
121.2369684,
121.2369684,
121.2369684,
121.2369684,
121.2369684,
121.2369684,
121.2369684,
121.2369684,
121.2369684,
121.2369684,
121.2369684,
121.2837596,
121.2837596,
121.2837596,
121.2837596,
121.2837596,
121.2837596,
121.2837596,
121.2837596,
121.2837596,
121.2837596,
121.2837596,
121.2837596,
121.2837596,
121.2837596,
121.2837596,
121.2837596,
121.2837596,
121.2837596,
121.2837596,
121.2837596,
121.3305508,
121.3305508,
121.3305508,
121.3305508,
121.3305508,
121.3305508,
121.3305508,
121.3305508,
121.3305508,
121.3305508,
121.3305508,
121.3305508,
121.3305508,
121.3305508,
121.3305508,
121.3305508,
121.3305508,
121.3305508,
121.3305508,
121.3305508,
121.377342,
121.377342,
121.377342,
121.377342,
121.377342,
121.377342,
121.377342,
121.377342,
121.377342,
121.377342,
121.377342,
121.377342,
121.377342,
121.377342,
121.377342,
121.377342,
121.377342,
121.377342,
121.377342,
121.377342,
121.4241332,
121.4241332,
121.4241332,
121.4241332,
121.4241332,
121.4241332,
121.4241332,
121.4241332,
121.4241332,
121.4241332,
121.4241332,
121.4241332,
121.4241332,
121.4241332,
121.4241332,
121.4241332,
121.4241332,
121.4241332,
121.4241332,
121.4241332,
121.4709244,
121.4709244,
121.4709244,
121.4709244,
121.4709244,
121.4709244,
121.4709244,
121.4709244,
121.4709244,
121.4709244,
121.4709244,
121.4709244,
121.4709244,
121.4709244,
121.4709244,
121.4709244,
121.4709244,
121.4709244,
121.4709244,
121.4709244,
121.5177156,
121.5177156,
121.5177156,
121.5177156,
121.5177156,
121.5177156,
121.5177156,
121.5177156,
121.5177156,
121.5177156,
121.5177156,
121.5177156,
121.5177156,
121.5177156,
121.5177156,
121.5177156,
121.5177156,
121.5177156,
121.5177156,
121.5177156,
121.5645068,
121.5645068,
121.5645068,
121.5645068,
121.5645068,
121.5645068,
121.5645068,
121.5645068,
121.5645068,
121.5645068,
121.5645068,
121.5645068,
121.5645068,
121.5645068,
121.5645068,
121.5645068,
121.5645068,
121.5645068,
121.5645068,
121.5645068,
121.611298,
121.611298,
121.611298,
121.611298,
121.611298,
121.611298,
121.611298,
121.611298,
121.611298,
121.611298,
121.611298,
121.611298,
121.611298,
121.611298,
121.611298,
121.611298,
121.611298,
121.611298,
121.611298,
121.611298,
121.6580892,
121.6580892,
121.6580892,
121.6580892,
121.6580892,
121.6580892,
121.6580892,
121.6580892,
121.6580892,
121.6580892,
121.6580892,
121.6580892,
121.6580892,
121.6580892,
121.6580892,
121.6580892,
121.6580892,
121.6580892,
121.6580892,
121.6580892,
121.7048804,
121.7048804,
121.7048804,
121.7048804,
121.7048804,
121.7048804,
121.7048804,
121.7048804,
121.7048804,
121.7048804,
121.7048804,
121.7048804,
121.7048804,
121.7048804,
121.7048804,
121.7048804,
121.7048804,
121.7048804,
121.7048804,
121.7048804,
121.7516716,
121.7516716,
121.7516716,
121.7516716,
121.7516716,
121.7516716,
121.7516716,
121.7516716,
121.7516716,
121.7516716,
121.7516716,
121.7516716,
121.7516716,
121.7516716,
121.7516716,
121.7516716,
121.7516716,
121.7516716,
121.7516716,
121.7516716,
121.7984628,
121.7984628,
121.7984628,
121.7984628,
121.7984628,
121.7984628,
121.7984628,
121.7984628,
121.7984628,
121.7984628,
121.7984628,
121.7984628,
121.7984628,
121.7984628,
121.7984628,
121.7984628,
121.7984628,
121.7984628,
121.7984628,
121.7984628,
121.845254,
121.845254,
121.845254,
121.845254,
121.845254,
121.845254,
121.845254,
121.845254,
121.845254,
121.845254,
121.845254,
121.845254,
121.845254,
121.845254,
121.845254,
121.845254,
121.845254,
121.845254,
121.845254,
121.845254,
121.8920452,
121.8920452,
121.8920452,
121.8920452,
121.8920452,
121.8920452,
121.8920452,
121.8920452,
121.8920452,
121.8920452,
121.8920452,
121.8920452,
121.8920452,
121.8920452,
121.8920452,
121.8920452,
121.8920452,
121.8920452,
121.8920452,
121.8920452,
121.9388364,
121.9388364,
121.9388364,
121.9388364,
121.9388364,
121.9388364,
121.9388364,
121.9388364,
121.9388364,
121.9388364,
121.9388364,
121.9388364,
121.9388364,
121.9388364,
121.9388364,
121.9388364,
121.9388364,
121.9388364,
121.9388364,
121.9388364
];

var lat = [
30.68603175,
30.73402325,
30.78201475,
30.83000625,
30.87799775,
30.92598925,
30.97398075,
31.02197225,
31.06996375,
31.11795525,
31.16594675,
31.21393825,
31.26192975,
31.30992125,
31.35791275,
31.40590425,
31.45389575,
31.50188725,
31.54987875,
31.59787025,
30.68603175,
30.73402325,
30.78201475,
30.83000625,
30.87799775,
30.92598925,
30.97398075,
31.02197225,
31.06996375,
31.11795525,
31.16594675,
31.21393825,
31.26192975,
31.30992125,
31.35791275,
31.40590425,
31.45389575,
31.50188725,
31.54987875,
31.59787025,
30.68603175,
30.73402325,
30.78201475,
30.83000625,
30.87799775,
30.92598925,
30.97398075,
31.02197225,
31.06996375,
31.11795525,
31.16594675,
31.21393825,
31.26192975,
31.30992125,
31.35791275,
31.40590425,
31.45389575,
31.50188725,
31.54987875,
31.59787025,
30.68603175,
30.73402325,
30.78201475,
30.83000625,
30.87799775,
30.92598925,
30.97398075,
31.02197225,
31.06996375,
31.11795525,
31.16594675,
31.21393825,
31.26192975,
31.30992125,
31.35791275,
31.40590425,
31.45389575,
31.50188725,
31.54987875,
31.59787025,
30.68603175,
30.73402325,
30.78201475,
30.83000625,
30.87799775,
30.92598925,
30.97398075,
31.02197225,
31.06996375,
31.11795525,
31.16594675,
31.21393825,
31.26192975,
31.30992125,
31.35791275,
31.40590425,
31.45389575,
31.50188725,
31.54987875,
31.59787025,
30.68603175,
30.73402325,
30.78201475,
30.83000625,
30.87799775,
30.92598925,
30.97398075,
31.02197225,
31.06996375,
31.11795525,
31.16594675,
31.21393825,
31.26192975,
31.30992125,
31.35791275,
31.40590425,
31.45389575,
31.50188725,
31.54987875,
31.59787025,
30.68603175,
30.73402325,
30.78201475,
30.83000625,
30.87799775,
30.92598925,
30.97398075,
31.02197225,
31.06996375,
31.11795525,
31.16594675,
31.21393825,
31.26192975,
31.30992125,
31.35791275,
31.40590425,
31.45389575,
31.50188725,
31.54987875,
31.59787025,
30.68603175,
30.73402325,
30.78201475,
30.83000625,
30.87799775,
30.92598925,
30.97398075,
31.02197225,
31.06996375,
31.11795525,
31.16594675,
31.21393825,
31.26192975,
31.30992125,
31.35791275,
31.40590425,
31.45389575,
31.50188725,
31.54987875,
31.59787025,
30.68603175,
30.73402325,
30.78201475,
30.83000625,
30.87799775,
30.92598925,
30.97398075,
31.02197225,
31.06996375,
31.11795525,
31.16594675,
31.21393825,
31.26192975,
31.30992125,
31.35791275,
31.40590425,
31.45389575,
31.50188725,
31.54987875,
31.59787025,
30.68603175,
30.73402325,
30.78201475,
30.83000625,
30.87799775,
30.92598925,
30.97398075,
31.02197225,
31.06996375,
31.11795525,
31.16594675,
31.21393825,
31.26192975,
31.30992125,
31.35791275,
31.40590425,
31.45389575,
31.50188725,
31.54987875,
31.59787025,
30.68603175,
30.73402325,
30.78201475,
30.83000625,
30.87799775,
30.92598925,
30.97398075,
31.02197225,
31.06996375,
31.11795525,
31.16594675,
31.21393825,
31.26192975,
31.30992125,
31.35791275,
31.40590425,
31.45389575,
31.50188725,
31.54987875,
31.59787025,
30.68603175,
30.73402325,
30.78201475,
30.83000625,
30.87799775,
30.92598925,
30.97398075,
31.02197225,
31.06996375,
31.11795525,
31.16594675,
31.21393825,
31.26192975,
31.30992125,
31.35791275,
31.40590425,
31.45389575,
31.50188725,
31.54987875,
31.59787025,
30.68603175,
30.73402325,
30.78201475,
30.83000625,
30.87799775,
30.92598925,
30.97398075,
31.02197225,
31.06996375,
31.11795525,
31.16594675,
31.21393825,
31.26192975,
31.30992125,
31.35791275,
31.40590425,
31.45389575,
31.50188725,
31.54987875,
31.59787025,
30.68603175,
30.73402325,
30.78201475,
30.83000625,
30.87799775,
30.92598925,
30.97398075,
31.02197225,
31.06996375,
31.11795525,
31.16594675,
31.21393825,
31.26192975,
31.30992125,
31.35791275,
31.40590425,
31.45389575,
31.50188725,
31.54987875,
31.59787025,
30.68603175,
30.73402325,
30.78201475,
30.83000625,
30.87799775,
30.92598925,
30.97398075,
31.02197225,
31.06996375,
31.11795525,
31.16594675,
31.21393825,
31.26192975,
31.30992125,
31.35791275,
31.40590425,
31.45389575,
31.50188725,
31.54987875,
31.59787025,
30.68603175,
30.73402325,
30.78201475,
30.83000625,
30.87799775,
30.92598925,
30.97398075,
31.02197225,
31.06996375,
31.11795525,
31.16594675,
31.21393825,
31.26192975,
31.30992125,
31.35791275,
31.40590425,
31.45389575,
31.50188725,
31.54987875,
31.59787025,
30.68603175,
30.73402325,
30.78201475,
30.83000625,
30.87799775,
30.92598925,
30.97398075,
31.02197225,
31.06996375,
31.11795525,
31.16594675,
31.21393825,
31.26192975,
31.30992125,
31.35791275,
31.40590425,
31.45389575,
31.50188725,
31.54987875,
31.59787025,
30.68603175,
30.73402325,
30.78201475,
30.83000625,
30.87799775,
30.92598925,
30.97398075,
31.02197225,
31.06996375,
31.11795525,
31.16594675,
31.21393825,
31.26192975,
31.30992125,
31.35791275,
31.40590425,
31.45389575,
31.50188725,
31.54987875,
31.59787025,
30.68603175,
30.73402325,
30.78201475,
30.83000625,
30.87799775,
30.92598925,
30.97398075,
31.02197225,
31.06996375,
31.11795525,
31.16594675,
31.21393825,
31.26192975,
31.30992125,
31.35791275,
31.40590425,
31.45389575,
31.50188725,
31.54987875,
31.59787025,
30.68603175,
30.73402325,
30.78201475,
30.83000625,
30.87799775,
30.92598925,
30.97398075,
31.02197225,
31.06996375,
31.11795525,
31.16594675,
31.21393825,
31.26192975,
31.30992125,
31.35791275,
31.40590425,
31.45389575,
31.50188725,
31.54987875,
31.59787025
];

var numbers = [
0,
0,
0,
1,
10,
5,
28,
35,
26,
222,
2,
0,
0,
2,
0,
0,
0,
0,
0,
0,
0,
1,
0,
0,
7,
10,
6,
3,
5,
64,
288,
26,
30,
2,
0,
1,
20,
0,
0,
0,
0,
0,
2,
0,
2,
7,
7,
65,
18,
15,
474,
36,
67,
129,
5,
11,
12,
0,
5,
0,
0,
0,
3,
8,
73,
31,
31,
213,
352,
50,
88,
78,
15,
151,
34,
15,
3,
2,
1,
0,
0,
0,
6,
36,
5,
11,
5,
1198,
396,
81,
79,
83,
183,
114,
209,
345,
32,
1,
0,
0,
0,
1,
4,
23,
2,
36,
14,
231,
113,
381,
172,
130,
90,
87,
154,
249,
11,
6,
0,
0,
0,
362,
15,
11,
63,
29,
42,
136,
220,
344,
710,
150,
529,
402,
46,
65,
47,
32,
0,
0,
0,
78,
17,
1,
6,
1,
9,
97,
84,
1037,
1754,
1660,
1145,
411,
230,
107,
4,
2,
0,
0,
0,
0,
19,
7,
9,
29,
59,
618,
427,
583,
1828,
4725,
2541,
567,
352,
223,
42,
0,
0,
1,
0,
0,
0,
28,
29,
832,
66,
87,
164,
158,
436,
6465,
4935,
1575,
478,
239,
0,
0,
0,
1,
0,
0,
0,
232,
12,
60,
57,
45,
208,
110,
1320,
2528,
2855,
2113,
200,
340,
0,
0,
0,
8,
0,
0,
0,
4,
14,
80,
16,
14,
110,
418,
513,
916,
1122,
422,
308,
1,
0,
0,
7,
1,
0,
0,
0,
1,
1,
28,
10,
74,
31,
137,
101,
521,
838,
410,
226,
0,
0,
0,
72,
6,
0,
0,
0,
0,
1,
119,
25,
74,
3,
14,
61,
451,
232,
109,
1,
4,
0,
0,
2,
3,
0,
0,
0,
0,
3,
54,
1,
42,
20,
18,
86,
493,
194,
12,
7,
68,
0,
1,
4,
0,
0,
0,
0,
0,
13,
31,
46,
59,
471,
84,
128,
72,
15,
0,
2,
10,
0,
8,
7,
2,
0,
0,
0,
0,
1,
19,
6,
6,
92,
12,
44,
3,
0,
1,
4,
0,
3,
26,
1,
0,
0,
0,
0,
0,
38,
35,
13,
9,
9,
1,
0,
0,
0,
0,
9,
0,
4,
3,
18,
0,
0,
0,
0,
0,
95,
10,
29,
8,
1,
0,
0,
0,
0,
1,
1,
0,
0,
0,
6,
0,
0,
0,
0,
0,
17,
19,
1,
0,
0,
0,
0,
0,
0,
0,
0,
0,
0,
1,
0,
0
];
// function addMarker(point, text){
//     var marker = new BMap.Marker(point);
//     map.addOverlay(marker);
//     var label = new BMap.Label(text, {offset:new BMap.Size(20,-10)});
//     marker.setLabel(label);
// }

// for(var i = 0; i < 1000; i++){
//     var pt = new BMap.Point(long[i], lat[i]);
//     addMarker(pt, numbers[i]);
// }

var points = [];  

for (var i = 0; i < long.length; i++) {
    points.push(new BMap.Point(long[i], lat[i]));
}

var options = {
    size: BMAP_POINT_SIZE_BIG,
    shape: BMAP_POINT_SHAPE_CIRCLE,
    color: '#1A69F4' //'#4349C7'
}

var pointCollection = new BMap.PointCollection(points, options);

pointCollection.addEventListener('click', function (e) {
    alert('格子里的门店数是：' + numbers[points.indexOf(e.point)]);  
});
map.addOverlay(pointCollection); 

var longl = 121.026408;
var longr = 121.962232;
var latd = 30.662036;
var latu = 31.621866;

var hl = [
30.662036,
30.7100275,
30.7580190,
30.8060105,
30.8540020,
30.9019935,
30.9499850,
30.9979765,
31.0459680,
31.0939595,
31.1419510,
31.1899425,
31.2379340,
31.2859255,
31.3339170,
31.3819085,
31.4299000,
31.4778915,
31.5258830,
31.5738745,
31.621866
];

var vl = [
121.026408,
121.0731992,
121.1199904,
121.1667816,
121.2135728,
121.2603640,
121.3071552,
121.3539464,
121.4007376,
121.4475288,
121.4943200,
121.5411112,
121.5879024,
121.6346936,
121.6814848,
121.7282760,
121.7750672,
121.8218584,
121.8686496,
121.9154408,
121.962232
];
// draw the h line
for (var i = 0; i < 100; i ++){
    var polylineTem = new BMap.Polyline([new BMap.Point(longl, hl[i]), 
                    new BMap.Point(longr, hl[i])],
    {strokeColor:"blue", strokeWeight:3, strokeOpacity:0.5});  
    map.addOverlay(polylineTem); 
}

for (var i = 0; i < 100; i ++){
    var polylineTem = new BMap.Polyline([new BMap.Point(vl[i], latu), 
                    new BMap.Point(vl[i], latd)],
    {strokeColor:"blue", strokeWeight:6, strokeOpacity:0.5});  
    map.addOverlay(polylineTem);     
}
</script>