<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8"/>
        <title> so let it be </title>
    </head>

    <style type="text/css">
        html,body{
        margin:0;
        width:100%;
        height:100%;
        background:#ffffff;
    }
    #map{
        width:100%;
        height:100%;
    }
    </style>

    <script src="http://api.map.baidu.com/api?v=2.0&ak=Zi5NaQzHS9bakF87GklaIGd8">
    </script>
    <body>
        <div id="map"></div>
    </body>
</html>

<script type="text/javascript">
// put codes here
var map = new BMap.Map('map', {});
var cen = new BMap.Point(121.570161,31.219631);
map.centerAndZoom(cen, 15);
map.enableScrollWheelZoom(true);
map.addControl(new BMap.NavigationControl());

var long = [
121.0731992,
121.0731992,
121.0731992,
121.0731992,
121.0731992,
121.0731992,
121.0731992,
121.0731992,
121.0731992,
121.0731992,
121.1667816,
121.1667816,
121.1667816,
121.1667816,
121.1667816,
121.1667816,
121.1667816,
121.1667816,
121.1667816,
121.1667816,
121.260364,
121.260364,
121.260364,
121.260364,
121.260364,
121.260364,
121.260364,
121.260364,
121.260364,
121.260364,
121.3539464,
121.3539464,
121.3539464,
121.3539464,
121.3539464,
121.3539464,
121.3539464,
121.3539464,
121.3539464,
121.3539464,
121.4475288,
121.4475288,
121.4475288,
121.4475288,
121.4475288,
121.4475288,
121.4475288,
121.4475288,
121.4475288,
121.4475288,
121.5411112,
121.5411112,
121.5411112,
121.5411112,
121.5411112,
121.5411112,
121.5411112,
121.5411112,
121.5411112,
121.5411112,
121.6346936,
121.6346936,
121.6346936,
121.6346936,
121.6346936,
121.6346936,
121.6346936,
121.6346936,
121.6346936,
121.6346936,
121.728276,
121.728276,
121.728276,
121.728276,
121.728276,
121.728276,
121.728276,
121.728276,
121.728276,
121.728276,
121.8218584,
121.8218584,
121.8218584,
121.8218584,
121.8218584,
121.8218584,
121.8218584,
121.8218584,
121.8218584,
121.8218584,
121.9154408,
121.9154408,
121.9154408,
121.9154408,
121.9154408,
121.9154408,
121.9154408,
121.9154408,
121.9154408,
121.9154408
];

var lat = [
30.7100275,
30.8060105,
30.9019935,
30.9979765,
31.0939595,
31.1899425,
31.2859255,
31.3819085,
31.4778915,
31.5738745,
30.7100275,
30.8060105,
30.9019935,
30.9979765,
31.0939595,
31.1899425,
31.2859255,
31.3819085,
31.4778915,
31.5738745,
30.7100275,
30.8060105,
30.9019935,
30.9979765,
31.0939595,
31.1899425,
31.2859255,
31.3819085,
31.4778915,
31.5738745,
30.7100275,
30.8060105,
30.9019935,
30.9979765,
31.0939595,
31.1899425,
31.2859255,
31.3819085,
31.4778915,
31.5738745,
30.7100275,
30.8060105,
30.9019935,
30.9979765,
31.0939595,
31.1899425,
31.2859255,
31.3819085,
31.4778915,
31.5738745,
30.7100275,
30.8060105,
30.9019935,
30.9979765,
31.0939595,
31.1899425,
31.2859255,
31.3819085,
31.4778915,
31.5738745,
30.7100275,
30.8060105,
30.9019935,
30.9979765,
31.0939595,
31.1899425,
31.2859255,
31.3819085,
31.4778915,
31.5738745,
30.7100275,
30.8060105,
30.9019935,
30.9979765,
31.0939595,
31.1899425,
31.2859255,
31.3819085,
31.4778915,
31.5738745,
30.7100275,
30.8060105,
30.9019935,
30.9979765,
31.0939595,
31.1899425,
31.2859255,
31.3819085,
31.4778915,
31.5738745,
30.7100275,
30.8060105,
30.9019935,
30.9979765,
31.0939595,
31.1899425,
31.2859255,
31.3819085,
31.4778915,
31.5738745
];

var numbers = [
0,
1,
53,
27,
492,
415,
6,
0,
0,
0,
0,
15,
175,
411,
1114,
738,
524,
86,
2,
0,
4,
16,
32,
2022,
1616,
704,
695,
1642,
23,
0,
998,
108,
107,
199,
3198,
7310,
4645,
849,
27,
0,
0,
12,
1217,
1493,
2410,
21206,
17173,
2331,
21,
7,
0,
466,
80,
94,
1637,
9207,
11835,
1526,
0,
41,
0,
2,
114,
366,
409,
2068,
2768,
432,
0,
151,
0,
0,
9,
235,
1423,
1731,
297,
154,
13,
30,
0,
0,
60,
68,
356,
126,
4,
26,
77,
39,
0,
0,
500,
40,
0,
0,
1,
3,
3,
10
]
// do the loop
var points = [];  

for (var i = 0; i < long.length; i++) {
    points.push(new BMap.Point(long[i], lat[i]));
}

var options = {
    size: BMAP_POINT_SIZE_BIG,
    shape: BMAP_POINT_SHAPE_CIRCLE,
    color: '#1A69F4' //'#4349C7'
}

var pointCollection = new BMap.PointCollection(points, options);

pointCollection.addEventListener('click', function (e) {
    alert('格子里的门店数是：' + numbers[points.indexOf(e.point)]);  
});
map.addOverlay(pointCollection); 
 

var longl = 121.026408;
var longr = 121.962232;
var latd = 30.662036;
var latu = 31.621866;

var hl = [
30.662036,
30.7580190,
30.8540020,
30.9499850,
31.0459680,
31.1419510,
31.2379340,
31.3339170,
31.4299000,
31.621866,
31.5258830 
];

var vl = [
121.026408,
121.1199904,
121.2135728,
121.3071552,
121.4007376,
121.4943200,
121.5879024,
121.6814848,
121.7750672,
121.962232,
121.8686496 
];
// draw the h line
for (var i = 0; i < hl.length; i ++){
    var polylineTem = new BMap.Polyline([new BMap.Point(longl, hl[i]), 
                    new BMap.Point(longr, hl[i])],
    {strokeColor:"blue", strokeWeight:3, strokeOpacity:0.5});  
    map.addOverlay(polylineTem); 
}

for (var i = 0; i < vl.length; i ++){
    var polylineTem = new BMap.Polyline([new BMap.Point(vl[i], latu), 
                    new BMap.Point(vl[i], latd)],
    {strokeColor:"blue", strokeWeight:6, strokeOpacity:0.5});  
    map.addOverlay(polylineTem);     
}
</script>